{"ast":null,"code":"import _defineProperty from\"/home/dilip/Desktop/Node_JS/mytodo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/dilip/Desktop/Node_JS/mytodo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/dilip/Desktop/Node_JS/mytodo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/dilip/Desktop/Node_JS/mytodo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/dilip/Desktop/Node_JS/mytodo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var Edit=/*#__PURE__*/function(_Component){_inherits(Edit,_Component);var _super=_createSuper(Edit);function Edit(props){var _this;_classCallCheck(this,Edit);_this=_super.call(this,props);_this.state={added_date:new Date().toString(),task:null,last_date:null};_this.componentDidMount=function(){var id=_this.props.match.params.id;axios.get('http://localhost:300/todos/'+id).then(function(response){var dt=response.data.last_date;dt=new Date(dt);var dtt=dt.getDate();var mt=dt.getMonth()+1;var mt=(\"0\"+mt).slice(-2);var yr=dt.getFullYear();var ld=yr+'-'+mt+'-'+dtt;_this.setState({'task':response.data.task,'last_date':ld});}).catch(function(error){console.log(error);});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleDate=function(e){var last_date=e.target.value;_this.setState({'last_date':last_date});};_this.handleSubmit=function(e){var id=_this.props.match.params.id;var last_date=_this.state.last_date;e.preventDefault();last_date=new Date(last_date).toString();_this.setState({'last_date':last_date},function(){var _this2=this;axios.post('http://localhost:300/todos/'+id,this.state).then(function(res){if(res.data.edited){alert('task edited');_this2.props.history.push('/user');}else{console.log(res.error+' unable to edit,try again later');}});});};return _this;}_createClass(Edit,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container center_div\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,className:\"align-middle spacing\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"sign_in_text text_center\"},\" Edit Task\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"float-left\"},\"Task: \"),/*#__PURE__*/React.createElement(\"input\",{value:this.state.task,onChange:this.handleChange,type:\"text\",name:\"task\",id:\"inputTask\",className:\"form-control btn-lg\",placeholder:\"Enter Task\",required:true,autofocus:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"container form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"float-left\"},\"Enter Last Date: \"),/*#__PURE__*/React.createElement(\"input\",{value:this.state.last_date,onChange:this.handleDate,type:\"date\",name:\"last_date\",id:\"inputLastDate\",className:\"form-control btn-lg\",placeholder:\"Enter Last Date\",required:true,autofocus:\"\"})),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block btn-lg\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-sign-in-alt\"}),\" Submit\")),/*#__PURE__*/React.createElement(\"hr\",null)));}}]);return Edit;}(Component);export default Edit;// value={this.state.last_date","map":{"version":3,"sources":["/home/dilip/Desktop/Node_JS/mytodo/src/components/edit.component.js"],"names":["React","Component","axios","Edit","props","state","added_date","Date","toString","task","last_date","componentDidMount","id","match","params","get","then","response","dt","data","dtt","getDate","mt","getMonth","slice","yr","getFullYear","ld","setState","catch","error","console","log","handleChange","e","target","name","value","handleDate","handleSubmit","preventDefault","post","res","edited","alert","history","push"],"mappings":"+uBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GACMC,CAAAA,I,4FACF,cAAYC,KAAZ,CAAkB,sCACd,uBAAMA,KAAN,EADc,MAGlBC,KAHkB,CAGZ,CACFC,UAAU,CAAC,GAAIC,CAAAA,IAAJ,GAAWC,QAAX,EADT,CAEFC,IAAI,CAAC,IAFH,CAGFC,SAAS,CAAC,IAHR,CAHY,OAQlBC,iBARkB,CAQA,UAAI,CAClB,GAAIC,CAAAA,EAAE,CAAC,MAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBF,EAA/B,CACAV,KAAK,CAACa,GAAN,CAAU,8BAA8BH,EAAxC,EACCI,IADD,CACM,SAAAC,QAAQ,CAAI,CAAC,GAAIC,CAAAA,EAAE,CAACD,QAAQ,CAACE,IAAT,CAAcT,SAArB,CAA+BQ,EAAE,CAAC,GAAIX,CAAAA,IAAJ,CAASW,EAAT,CAAH,CAAiB,GAAIE,CAAAA,GAAG,CAACF,EAAE,CAACG,OAAH,EAAR,CAAqB,GAAIC,CAAAA,EAAE,CAACJ,EAAE,CAACK,QAAH,GAAc,CAArB,CAA0B,GAAID,CAAAA,EAAE,CAAG,CAAC,IAAMA,EAAP,EAAWE,KAAX,CAAiB,CAAC,CAAlB,CAAT,CAAgC,GAAIC,CAAAA,EAAE,CAACP,EAAE,CAACQ,WAAH,EAAP,CAAyB,GAAIC,CAAAA,EAAE,CAACF,EAAE,CAAC,GAAH,CAAOH,EAAP,CAAU,GAAV,CAAcF,GAArB,CAAyB,MAAKQ,QAAL,CAAc,CAAC,OAAOX,QAAQ,CAACE,IAAT,CAAcV,IAAtB,CAA2B,YAAYkB,EAAvC,CAAd,EAA2D,CAD/P,EAECE,KAFD,CAEO,SAAAC,KAAK,CAAI,CAACC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,CAFpC,EAIH,CAdiB,OAgBlBG,YAhBkB,CAgBL,SAACC,CAAD,CAAK,CACd,MAAKN,QAAL,oBACKM,CAAC,CAACC,MAAF,CAASC,IADd,CACoBF,CAAC,CAACC,MAAF,CAASE,KAD7B,GAGH,CApBiB,OAsBlBC,UAtBkB,CAsBP,SAACJ,CAAD,CAAK,CACZ,GAAMxB,CAAAA,SAAS,CAACwB,CAAC,CAACC,MAAF,CAASE,KAAzB,CACA,MAAKT,QAAL,CAAc,CACV,YAAYlB,SADF,CAAd,EAIH,CA5BiB,OA8BlB6B,YA9BkB,CA8BL,SAACL,CAAD,CAAK,CACd,GAAItB,CAAAA,EAAE,CAAC,MAAKR,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBF,EAA/B,CACA,GAAIF,CAAAA,SAAS,CAAC,MAAKL,KAAL,CAAWK,SAAzB,CACAwB,CAAC,CAACM,cAAF,GACA9B,SAAS,CAAC,GAAIH,CAAAA,IAAJ,CAASG,SAAT,EAAoBF,QAApB,EAAV,CACA,MAAKoB,QAAL,CAAc,CACV,YAAYlB,SADF,CAAd,CAEE,UAAU,iBACRR,KAAK,CAACuC,IAAN,CAAW,8BAA8B7B,EAAzC,CAA4C,KAAKP,KAAjD,EACCW,IADD,CACM,SAAA0B,GAAG,CAAE,CAAC,GAAGA,GAAG,CAACvB,IAAJ,CAASwB,MAAZ,CAAmB,CAACC,KAAK,CAAC,aAAD,CAAL,CAAqB,MAAI,CAACxC,KAAL,CAAWyC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EAAiC,CAA1E,IAA8E,CAACf,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACZ,KAAJ,CAAU,iCAAtB,EAAyD,CAAC,CADrJ,EAGH,CAND,EASH,CA5CiB,cAEjB,C,wDA2CG,CACJ,mBAAO,2BAAK,SAAS,CAAC,sBAAf,eACP,4BAAM,QAAQ,CAAE,KAAKS,YAArB,CAAmC,SAAS,CAAC,sBAA7C,eACA,0BAAI,SAAS,CAAC,0BAAd,eADA,cAEA,8BAFA,cAIA,2BAAK,SAAS,CAAC,sBAAf,eACA,6BAAO,SAAS,CAAC,YAAjB,WADA,cAEA,6BAAO,KAAK,CAAE,KAAKlC,KAAL,CAAWI,IAAzB,CAA+B,QAAQ,CAAG,KAAKwB,YAA/C,CAA8D,IAAI,CAAC,MAAnE,CAA2E,IAAI,CAAC,MAAhF,CAAuF,EAAE,CAAC,WAA1F,CAAsG,SAAS,CAAC,qBAAhH,CAAsI,WAAW,CAAC,YAAlJ,CAA+J,QAAQ,KAAvK,CAAwK,SAAS,CAAC,EAAlL,EAFA,CAJA,cAQA,2BAAK,SAAS,CAAC,sBAAf,eACA,6BAAO,SAAS,CAAC,YAAjB,sBADA,cAEA,6BAAO,KAAK,CAAE,KAAK5B,KAAL,CAAWK,SAAzB,CAAoC,QAAQ,CAAG,KAAK4B,UAApD,CAAiE,IAAI,CAAC,MAAtE,CAA8E,IAAI,CAAC,WAAnF,CAA+F,EAAE,CAAC,eAAlG,CAAkH,SAAS,CAAC,qBAA5H,CAAkJ,WAAW,CAAC,iBAA9J,CAAgL,QAAQ,KAAxL,CAAyL,SAAS,CAAC,EAAnM,EAFA,CARA,cAYA,+BAZA,cAcA,2BAAK,SAAS,CAAC,sBAAf,eACA,8BAAQ,SAAS,CAAC,kCAAlB,eAAqD,yBAAG,SAAS,CAAC,oBAAb,EAArD,WADA,CAdA,cAiBA,8BAjBA,CADO,CAAP,CAqBH,C,kBApEkBrC,S,EAsEnB,cAAeE,CAAAA,IAAf,CAEA","sourcesContent":["import React,{Component} from 'react'\nimport axios from 'axios'\nclass Edit extends Component{\n    constructor(props){\n        super(props)\n    }\n    state={\n        added_date:new Date().toString(),\n        task:null,\n        last_date:null\n    }\n    componentDidMount=()=>{\n        let id=this.props.match.params.id;\n        axios.get('http://localhost:300/todos/'+id)\n        .then(response => {var dt=response.data.last_date;dt=new Date(dt); var dtt=dt.getDate();var mt=dt.getMonth()+1;   var mt = (\"0\" + mt).slice(-2)  ;var yr=dt.getFullYear(); var ld=yr+'-'+mt+'-'+dtt;this.setState({'task':response.data.task,'last_date':ld});})\n        .catch(error => {console.log(error)})\n\n    }\n\n    handleChange=(e)=>{\n        this.setState({\n            [e.target.name]:e.target.value\n        })\n    }\n\n    handleDate=(e)=>{\n        const last_date=e.target.value\n        this.setState({\n            'last_date':last_date\n        })\n\n    }\n\n    handleSubmit=(e)=>{\n        let id=this.props.match.params.id;\n        var last_date=this.state.last_date;\n        e.preventDefault();\n        last_date=new Date(last_date).toString()\n        this.setState({\n            'last_date':last_date\n        },function(){\n            axios.post('http://localhost:300/todos/'+id,this.state)\n            .then(res=>{if(res.data.edited){alert('task edited');this.props.history.push('/user')}else{console.log(res.error+' unable to edit,try again later')}})\n\n        })\n\n\n    }\nrender(){\n    return(<div className='container center_div'>\n    <form onSubmit={this.handleSubmit} className=\"align-middle spacing\">\n    <h1 className=\"sign_in_text text_center\"> Edit Task</h1>\n    <br>\n    </br>\n    <div className='container form-group'>\n    <label className='float-left'>Task: </label> \n    <input value={this.state.task} onChange={ this.handleChange } type=\"text\"  name='task' id=\"inputTask\" className=\"form-control btn-lg\" placeholder=\"Enter Task\" required autofocus=\"\"/>\n    </div>\n    <div className='container form-group'>\n    <label className='float-left'>Enter Last Date: </label> \n    <input value={this.state.last_date} onChange={ this.handleDate } type=\"date\"  name='last_date' id=\"inputLastDate\" className=\"form-control btn-lg\" placeholder=\"Enter Last Date\" required autofocus=\"\"/>\n    </div>\n    <div>\n    </div>\n    <div className='container form-group'>\n    <button className=\"btn btn-primary btn-block btn-lg\"><i className=\"fas fa-sign-in-alt\"></i> Submit</button>\n    </div>\n    <hr/>        \n    </form>\n    </div>)\n}\n}\nexport default Edit\n\n// value={this.state.last_date"]},"metadata":{},"sourceType":"module"}