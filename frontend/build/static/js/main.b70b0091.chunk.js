(this.webpackJsonpmytodo=this.webpackJsonpmytodo||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},40:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),s=a.n(l),o=(a(38),a(3)),c=a(4),i=a(6),m=a(5),d=(a(39),a(12)),u=a(1),h=(a(40),a(41),a(14)),p=a(13),g=(a(42),a(17)),f=a.n(g),b=a(10),E=a.n(b),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={email:null,password:null},e.handleSubmit=function(t){t.preventDefault(),E.a.post("http://localhost:300/validate",e.state).then((function(t){t.data.validated?(e.props.changeEmail(e.state.email),sessionStorage.setItem("email",e.state.email),sessionStorage.setItem("id",t.data.id),e.props.history.push("/user")):console.log("unable to submit,try again later"+t.data.error)}))},e.handleChange=function(t){var a=t.target.value;"password"===t.target.name&&(a=f()(String(a))),e.setState(Object(h.a)({},t.target.name,a))},e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container center_div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"align-middle spacing"},r.a.createElement("h1",{className:"sign_in_text text_center"}," Sign in"),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"inputEmail",className:"form-control btn-lg",placeholder:"Email address",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",id:"inputPassword",className:"form-control btn-lg",placeholder:"Password",required:!0})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block btn-lg"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Sign in")),r.a.createElement("hr",null),r.a.createElement("div",{className:"container form-groupx"},r.a.createElement("button",{className:"btn btn-outline-dark btn-block btn-lg",type:"button",id:"btn-signup"}," ",r.a.createElement(d.b,{to:"/signup"},"Sign up New Account")))))}}]),a}(n.Component),N=Object(u.f)(v),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).logout=function(){sessionStorage.clear(),e.props.history.push("/")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"jumbotron"},this.props.email?r.a.createElement("button",{onClick:this.logout,className:"float-right btn-dark btn-lg"},"LogOut"):"",r.a.createElement("h1",null,"My TODO App"),r.a.createElement("p",null,this.props.email)))}}]),a}(n.Component),S=Object(u.f)(k),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={first_name:null,last_name:null,email:null,password:null,rep_password:null},e.handleSubmit=function(t){if(t.preventDefault(),e.state.password!=e.state.rep_password)return alert("both passwords do not match"),null;E.a.post("http://localhost:300/add",e.state).then((function(t){t.data?e.props.history.push("/"):console.log("unable to submit,try again later")}))},e.handleChange=function(t){var a=t.target.value;"password"!==t.target.name&&"rep_password"!==t.target.name||(a=f()(String(a))),e.setState(Object(h.a)({},t.target.name,a))},e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container center_div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"align-middle spacing"},r.a.createElement("h1",{className:"sign_in_text text_center"}," Sign Up"),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"first_name",id:"inputFirstName",className:"form-control btn-lg",placeholder:"First Name",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"last_name",id:"inputLastName",className:"form-control btn-lg",placeholder:"Last Name",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email",id:"inputEmail",className:"form-control btn-lg",placeholder:"Email address",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,name:"password",type:"password",id:"inputPassword",className:"form-control btn-lg",placeholder:"Password",required:!0})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("input",{onChange:this.handleChange,name:"rep_password",type:"password",id:"rep_inputPassword",className:"form-control btn-lg",placeholder:"Password",required:!0})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block btn-lg"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Sign Up")),r.a.createElement("hr",null)))}}]),a}(n.Component),_=Object(u.f)(y),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={tasks:[]},e.deleteTodo=function(t){var a=t.target.id;E.a.delete("http://localhost:300/todos/"+a).then((function(t){console.log(t),e.setState({tasks:e.state.tasks.filter((function(e){return e._id!==a}))})})).catch((function(e){console.log(e)}))},e.check=function(){sessionStorage.getItem("email")||e.props.history.push("/")},e.edit=function(t){var a=t.target.id;e.props.history.push("/edit/"+a)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("http://localhost:300/todos/get/"+sessionStorage.getItem("email")).then((function(t){console.log(t),e.setState({tasks:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;this.check();var t=this.state.tasks.length?this.state.tasks.map((function(t){return r.a.createElement("div",null,r.a.createElement("div",{className:"container bcontent"},r.a.createElement("hr",null),r.a.createElement("div",{className:"list-group card"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("h2",{id:t._id,title:"Edit This Task",onClick:e.edit,className:"card-header"},t.task),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("a",{onClick:e.deleteTodo},r.a.createElement("i",{id:t._id,className:"fa fa-trash-o float-right pointer"}))),r.a.createElement("div",null,r.a.createElement("b",{className:"card-text"},"Added Date : ",t.added_date)),r.a.createElement("div",null,r.a.createElement("b",{className:"card-text"},"Last Date: ",t.last_date))))))))})):r.a.createElement("div",{className:"text-center jumbotron"},"Loading post...");return r.a.createElement("div",null,r.a.createElement(d.b,{to:"/add"},r.a.createElement("i",{className:"fa fa-plus-circle float-right fa-4x add","aria-hidden":"true"})),r.a.createElement("div",{className:"container"},t))}}]),a}(n.Component),j=Object(u.f)(O),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).check=function(){sessionStorage.getItem("email")||e.props.history.push("/")},e.state={added_date:(new Date).toString(),task:null,last_date:null,email:sessionStorage.getItem("email")},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleDate=function(t){var a=new Date(t.target.value);e.setState({last_date:a.toString()})},e.handleSubmit=function(t){t.preventDefault(),E.a.post("http://localhost:300/todos/add",e.state).then((function(t){t.data.added?(console.log(t.message),alert("task added"),e.props.history.push("/user")):console.log(t.error+" unable to submit,try again later"+t.error)}))},e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e));var n=new Date;return n=n.toString(),e}return Object(c.a)(a,[{key:"render",value:function(){return this.check(),r.a.createElement("div",{className:"container center_div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"align-middle spacing"},r.a.createElement("h1",{className:"sign_in_text text_center"}," Add Task"),r.a.createElement("br",null),r.a.createElement("div",{className:"container form-group"},r.a.createElement("label",{className:"float-left"},"Enter Task: "),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"task",id:"inputTask",className:"form-control btn-lg",placeholder:"Enter Task",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("label",{className:"float-left"},"Enter Last Date: "),r.a.createElement("input",{onChange:this.handleDate,type:"date",name:"last_date",id:"inputLastDate",className:"form-control btn-lg",placeholder:"Enter Last Date",required:!0,autofocus:""})),r.a.createElement("div",null),r.a.createElement("div",{className:"container form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block btn-lg"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Submit")),r.a.createElement("hr",null)))}}]),a}(n.Component),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={added_date:(new Date).toString(),task:null,last_date:null},n.componentDidMount=function(){var e=n.props.match.params.id;E.a.get("http://localhost:300/todos/"+e).then((function(e){var t=e.data.last_date,a=(t=new Date(t)).getDate(),r=("0"+(r=t.getMonth()+1)).slice(-2),l=t.getFullYear()+"-"+r+"-"+a;n.setState({task:e.data.task,last_date:l})})).catch((function(e){console.log(e)}))},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value))},n.handleDate=function(e){var t=e.target.value;n.setState({last_date:t})},n.handleSubmit=function(e){var t=n.props.match.params.id,a=n.state.last_date;e.preventDefault(),a=new Date(a).toString(),n.setState({last_date:a},(function(){var e=this;E.a.post("http://localhost:300/todos/"+t,this.state).then((function(t){t.data.edited?(alert("task edited"),e.props.history.push("/user")):console.log(t.error+" unable to edit,try again later")}))}))},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container center_div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"align-middle spacing"},r.a.createElement("h1",{className:"sign_in_text text_center"}," Edit Task"),r.a.createElement("br",null),r.a.createElement("div",{className:"container form-group"},r.a.createElement("label",{className:"float-left"},"Task: "),r.a.createElement("input",{value:this.state.task,onChange:this.handleChange,type:"text",name:"task",id:"inputTask",className:"form-control btn-lg",placeholder:"Enter Task",required:!0,autofocus:""})),r.a.createElement("div",{className:"container form-group"},r.a.createElement("label",{className:"float-left"},"Enter Last Date: "),r.a.createElement("input",{value:this.state.last_date,onChange:this.handleDate,type:"date",name:"last_date",id:"inputLastDate",className:"form-control btn-lg",placeholder:"Enter Last Date",required:!0,autofocus:""})),r.a.createElement("div",null),r.a.createElement("div",{className:"container form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block btn-lg"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Submit")),r.a.createElement("hr",null)))}}]),a}(n.Component),D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:""},e.changeEmail=function(t){e.setState({email:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(S,{email:this.state.email,changeEmail:this.changeEmail}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/signup",component:_}),r.a.createElement(u.a,{path:"/user",component:j}),r.a.createElement(u.a,{path:"/add",component:w}),r.a.createElement(u.a,{path:"/edit/:id",component:C}),r.a.createElement(u.a,{path:"/",render:function(t){return r.a.createElement(N,{changeEmail:e.changeEmail})}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.b70b0091.chunk.js.map